{# templates/registration/register.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block content %}
    <h1>Inscription</h1>

    {{ form_errors(registrationForm) }}

    {{ form_start(registrationForm) }}
    {{ form_row(registrationForm.nom) }}
    {{ form_row(registrationForm.prenom) }}
    {{ form_row(registrationForm.email) }}
    {{ form_row(registrationForm.date_naiss) }}
    {{ form_row(registrationForm.adresse) }}
    {{ form_row(registrationForm.cp) }}
    {{ form_row(registrationForm.ville) }}

    {# Password field with visibility toggle and password generator button #}
    <div class="password-field">
        {{ form_row(registrationForm.plainPassword, {
            label: 'Mot de passe',
        }) }}

        {# Password visibility toggle #}
        <img src="{{ asset('images/eyes.png') }}" style="width: 20px; cursor: pointer;"
             onclick="togglePasswordVisibility('{{ registrationForm.plainPassword.vars.id }}')">

        {# Password generator button #}
        <button type="button" onclick="generatePassword('{{ registrationForm.plainPassword.vars.id }}')">Générer</button>
    </div>

    {{ form_row(registrationForm.agreeTerms) }}
    <button type="submit" class="btn btn-primary">S'inscrire</button>
    {{ form_end(registrationForm) }}

    {# JavaScript for password field #}
    <script src="{{ asset("js/generatePassword.js") }}">

    </script>
{% endblock %}
